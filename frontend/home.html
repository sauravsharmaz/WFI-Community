{% extends "basic.html" %}
{% load humanize %}
{% block title %}WFI-Community{% endblock title %}
{% block body %}

<!--  search button   -->
<form action="" method="get">
<div class="container py-3 row">
  <div class="col-md-8 offset-2">
    <div class="input-group">
      <input name="searchfieldText" type="text" class="form-control" placeholder="Search">
      <button class="btn btn-danger" type="submit">Search</button>
    </div>
  </div>
</div>
</form>
<!-- Question Card -->
{% for question in page_object %}
<div class="container question-card">
  <div class="card mb-3">
    <div class="card-body">
      <h4 class="card-title">Q.{{question.title}}</h4>
      <p class="card-title">{{question.detail|slice:":80"}}...</p>
      <p>
        <a href="" class="mr-2">{{question.AskedBy}}</a>
        <a href="detail/{{question.id}}" class="mr-2">5 answers</a>
        <a href="" class="mr-2">10 comments</a>
        <a href="" class="mr-2">{{question.ask_time|naturaltime}}</a>
      </p>
    </div>
  </div>
</div>
{% endfor %}



<!-- Pagination -->
<nav aria-label="Page navigation example">
  <ul class="pagination">
  <!-- checking if it has Previous page -->  
  {% if page_object.has_previous %}
    <li class="page-item"><a class="page-link" href="?page={{page_object.previous_page_number}}">Previous</a></li>
  {% endif %}
  
  <!-- Display current page number and all pages available -->
  {% for pageNo in page_object.paginator.page_range %}
    {% if page_object.number == pageNo %}
      <li name= "page" class="page-item active"><a class="page-link">{{pageNo}}</a></li>
    {% else %}
      <li name= "page" class="page-item"><a class="page-link" href="?page={{pageNo}}">{{pageNo}}</a></li>
    {% endif %}
  {% endfor %}
  <!-- checking if it has Next page -->
  {% if page_object.has_next %}
    <li class="page-item"><a class="page-link" href="?page={{page_object.next_page_number}}">Next</a></li>
  {% endif %}
  </ul>
</nav>

{% endblock body %}